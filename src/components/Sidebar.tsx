import { Box, styled } from '@mui/material';
import ProfileCard from '@/src/components/ProfileCard';
import ThemeSwitcher from '@/src/components/ThemeSwitcher';
import Navigation from '@/src/components/Navigation';
import { useState } from 'react';
import { ProfileCardSkeleton, ThemeSwitcherSkeleton } from '@/src/components/NavigationLoadingScreen';

const Logo = styled('svg')(({ theme }) => ({
  marginTop: 32.78,
  marginLeft: 34,
  [theme.breakpoints.down('md')]: {
    marginLeft: 26
  },
  '& rect, & path': {
    fill: theme.palette.background.default
  }
}));

const SidebarRoot = styled(Box)(({ theme }) => ({
  background: theme.palette.__mode === 'DARK' ? 'var(--dark-grey)' : 'white',
  gridRow: 'span 2',
  height: '100%',
  borderRight: `1px solid ${theme.palette.divider}`,
  display: 'grid',
  gridTemplateRows: 'auto minmax(400px, 1fr)  auto',
  [theme.breakpoints.down('sm')]: {
    display: 'none'
  }
}));

export default function Sidebar() {
  const [pageLoading] = useState(true);

  return (
    <SidebarRoot>
      {pageLoading ? (
        <Logo width='153' height='26' viewBox='0 0 153 26' fill='none' xmlns='http://www.w3.org/2000/svg'>
          <path
            fillRule='evenodd'
            clipRule='evenodd'
            d='M39.7598 9.09539C39.7598 4.50038 43.4848 0.775391 48.0798 0.775391C52.6748 0.775391 56.3998 4.50038 56.3998 9.09539V16.6794C56.3998 21.2744 52.6748 24.9994 48.0798 24.9994C43.4848 24.9994 39.7598 21.2744 39.7598 16.6794V9.09539ZM57.8078 15.0634C57.8078 10.6893 61.3537 7.14339 65.7278 7.14339C70.1019 7.14339 73.6478 10.6893 73.6478 15.0634V17.4634C73.6478 21.8375 70.1019 25.3834 65.7278 25.3834C61.3537 25.3834 57.8078 21.8375 57.8078 17.4634V15.0634ZM64.9598 17.4794C63.7492 17.4794 62.7678 18.4608 62.7678 19.6714C62.7678 20.882 63.7492 21.8634 64.9598 21.8634H66.6558C67.8664 21.8634 68.8478 20.882 68.8478 19.6714C68.8478 18.4608 67.8664 17.4794 66.6558 17.4794H64.9598ZM77.1678 15.1434C77.1678 10.7251 80.7495 7.14339 85.1678 7.14339C89.586 7.14339 93.1678 10.7251 93.1678 15.1434V16.9994C93.1678 21.4177 89.586 24.9994 85.1678 24.9994C80.7495 24.9994 77.1678 21.4177 77.1678 16.9994V15.1434ZM105.696 0.775391C100.526 0.775391 96.3358 4.96601 96.3358 10.1354V16.0234C96.3358 21.1928 100.526 25.3834 105.696 25.3834C110.865 25.3834 115.056 21.1928 115.056 16.0234V10.1354C115.056 4.966 110.865 0.775391 105.696 0.775391ZM101.136 15.9434C101.136 13.4692 103.142 11.4634 105.616 11.4634C108.09 11.4634 110.096 13.4692 110.096 15.9434V16.5834C110.096 19.0576 108.09 21.0634 105.616 21.0634C103.142 21.0634 101.136 19.0576 101.136 16.5834V15.9434ZM125.088 7.14339C120.714 7.14339 117.168 10.6893 117.168 15.0634V17.4634C117.168 21.8375 120.714 25.3834 125.088 25.3834C129.462 25.3834 133.008 21.8375 133.008 17.4634V15.0634C133.008 10.6893 129.462 7.14339 125.088 7.14339ZM122.128 19.6714C122.128 18.4608 123.109 17.4794 124.32 17.4794H126.016C127.226 17.4794 128.208 18.4608 128.208 19.6714C128.208 20.882 127.226 21.8634 126.016 21.8634H124.32C123.109 21.8634 122.128 20.882 122.128 19.6714ZM144.528 7.14339C140.109 7.14339 136.528 10.7251 136.528 15.1434V16.9994C136.528 21.4177 140.109 24.9994 144.528 24.9994C148.946 24.9994 152.528 21.4177 152.528 16.9994V15.1434C152.528 10.7251 148.946 7.14339 144.528 7.14339Z'
          />
          <rect y='1' width='6' height='25' rx='2' />
          <rect opacity='0.75' x='9' y='1' width='6' height='25' rx='2' />
          <rect opacity='0.5' x='18' y='1' width='6' height='25' rx='2' />
        </Logo>
      ) : (
        <Logo width='153' height='26' viewBox='0 0 153 26' fill='none' xmlns='http://www.w3.org/2000/svg'>
          <Box
            component='path'
            fillRule='evenodd'
            clipRule='evenodd'
            d='M44.56 24.9999V19.6559L46.48 17.5439L50.928 24.9999H56.368L50.064 14.5679L56.4 7.52788H50.48L44.56 13.8319V0.775879H39.76V24.9999H44.56ZM63.92 25.3839C66.096 25.3839 67.8453 24.7119 69.168 23.3679V24.9999H73.648V13.4799C73.648 12.2212 73.3333 11.1172 72.704 10.1679C72.0747 9.21855 71.1947 8.47721 70.064 7.94388C68.9333 7.41055 67.632 7.14388 66.16 7.14388C64.304 7.14388 62.6773 7.57055 61.28 8.42388C59.8827 9.27721 58.928 10.4292 58.416 11.8799L62.256 13.7039C62.5547 12.9359 63.0293 12.3172 63.68 11.8479C64.3307 11.3785 65.0827 11.1439 65.936 11.1439C66.832 11.1439 67.5413 11.3679 68.064 11.8159C68.5867 12.2639 68.848 12.8185 68.848 13.4799V13.9599L64.016 14.7279C61.9253 15.0692 60.368 15.7199 59.344 16.6799C58.32 17.6399 57.808 18.8559 57.808 20.3279C57.808 21.9065 58.3573 23.1439 59.456 24.0399C60.5547 24.9359 62.0427 25.3839 63.92 25.3839ZM63.376 21.4159C63.7813 21.7145 64.2827 21.8639 64.88 21.8639C66.0747 21.8639 67.0347 21.4905 67.76 20.7439C68.4853 19.9972 68.848 19.0905 68.848 18.0239V17.4799L64.88 18.1839C64.1973 18.3119 63.6747 18.5305 63.312 18.8399C62.9493 19.1492 62.768 19.5919 62.768 20.1679C62.768 20.7012 62.9707 21.1172 63.376 21.4159ZM81.968 24.9999V14.7919C81.968 13.7892 82.2667 12.9839 82.864 12.3759C83.4613 11.7679 84.2293 11.4639 85.168 11.4639C86.1067 11.4639 86.8747 11.7679 87.472 12.3759C88.0693 12.9839 88.368 13.7892 88.368 14.7919V24.9999H93.168V13.7679C93.168 12.4452 92.8907 11.2879 92.336 10.2959C91.7813 9.30388 91.008 8.53055 90.016 7.97588C89.024 7.42121 87.8667 7.14388 86.544 7.14388C85.4347 7.14388 84.4533 7.35188 83.6 7.76788C82.7467 8.18388 82.096 8.81855 81.648 9.67188V7.52788H77.168V24.9999H81.968ZM110.704 24.1679C109.36 24.9785 107.835 25.3839 106.128 25.3839C105.061 25.3839 104.064 25.2079 103.136 24.8559C102.208 24.5039 101.435 23.9972 100.816 23.3359V24.9999H96.336V0.775879H101.136V8.99988C102.373 7.76255 104.048 7.14388 106.16 7.14388C107.824 7.14388 109.328 7.54921 110.672 8.35988C112.016 9.17055 113.083 10.2639 113.872 11.6399C114.661 13.0159 115.056 14.5572 115.056 16.2639C115.056 17.9492 114.667 19.4852 113.888 20.8719C113.109 22.2585 112.048 23.3572 110.704 24.1679ZM105.552 21.0639C104.251 21.0639 103.189 20.6212 102.368 19.7359C101.547 18.8505 101.136 17.6932 101.136 16.2639C101.136 14.8559 101.547 13.7039 102.368 12.8079C103.189 11.9119 104.251 11.4639 105.552 11.4639C106.875 11.4639 107.963 11.9172 108.816 12.8239C109.669 13.7305 110.096 14.8772 110.096 16.2639C110.096 17.6719 109.669 18.8239 108.816 19.7199C107.963 20.6159 106.875 21.0639 105.552 21.0639ZM128.528 23.3679C127.205 24.7119 125.456 25.3839 123.28 25.3839C121.403 25.3839 119.915 24.9359 118.816 24.0399C117.717 23.1439 117.168 21.9065 117.168 20.3279C117.168 18.8559 117.68 17.6399 118.704 16.6799C119.728 15.7199 121.285 15.0692 123.376 14.7279L128.208 13.9599V13.4799C128.208 12.8185 127.947 12.2639 127.424 11.8159C126.901 11.3679 126.192 11.1439 125.296 11.1439C124.443 11.1439 123.691 11.3785 123.04 11.8479C122.389 12.3172 121.915 12.9359 121.616 13.7039L117.776 11.8799C118.288 10.4292 119.243 9.27721 120.64 8.42388C122.037 7.57055 123.664 7.14388 125.52 7.14388C126.992 7.14388 128.293 7.41055 129.424 7.94388C130.555 8.47721 131.435 9.21855 132.064 10.1679C132.693 11.1172 133.008 12.2212 133.008 13.4799V24.9999H128.528V23.3679ZM124.24 21.8639C123.643 21.8639 123.141 21.7145 122.736 21.4159C122.331 21.1172 122.128 20.7012 122.128 20.1679C122.128 19.5919 122.309 19.1492 122.672 18.8399C123.035 18.5305 123.557 18.3119 124.24 18.1839L128.208 17.4799V18.0239C128.208 19.0905 127.845 19.9972 127.12 20.7439C126.395 21.4905 125.435 21.8639 124.24 21.8639ZM141.328 14.7919V24.9999H136.528V7.52788H141.008V9.67188C141.456 8.81855 142.107 8.18388 142.96 7.76788C143.813 7.35188 144.795 7.14388 145.904 7.14388C147.227 7.14388 148.384 7.42121 149.376 7.97588C150.368 8.53055 151.141 9.30388 151.696 10.2959C152.251 11.2879 152.528 12.4452 152.528 13.7679V24.9999H147.728V14.7919C147.728 13.7892 147.429 12.9839 146.832 12.3759C146.235 11.7679 145.467 11.4639 144.528 11.4639C143.589 11.4639 142.821 11.7679 142.224 12.3759C141.627 12.9839 141.328 13.7892 141.328 14.7919Z'
            sx={{
              fill: theme => (theme.palette.__mode === 'DARK' ? theme.palette.common.white : theme.palette.common.black)
            }}
          />
          <rect y='1' width='6' height='25' rx='2' fill='#635FC7' />
          <rect opacity='0.75' x='9' y='1' width='6' height='25' rx='2' fill='#635FC7' />
          <rect opacity='0.5' x='18' y='1' width='6' height='25' rx='2' fill='#635FC7' />
        </Logo>
      )}
      <Navigation />
      <Box sx={{ height: '100%', display: 'grid', gap: '21px', paddingBottom: '32px' }}>
        {pageLoading ? (
          <>
            <ProfileCardSkeleton />
            <ThemeSwitcherSkeleton />
          </>
        ) : (
          <>
            <ProfileCard />
            <ThemeSwitcher />
          </>
        )}
      </Box>
    </SidebarRoot>
  );
}
